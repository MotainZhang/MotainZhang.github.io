<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="MotainZhang" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="MotainZhang">
<meta property="og:url" content="https://motainzhang.com/page/5/index.html">
<meta property="og:site_name" content="MotainZhang">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MotainZhang">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://motainzhang.com/page/5/">





  <title>MotainZhang</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MotainZhang</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/07/19/js常用正则表达式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/19/js常用正则表达式/" itemprop="url">js常用正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-19T15:22:38+00:00">
                2016-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/19/js常用正则表达式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/19/js常用正则表达式/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用技术提升美好事物发生的概率_</p>
<p><em>Technologically, for greater probability to be happy.</em></p>
<p><img src="http://img0.imgtn.bdimg.com/it/u=825778792,183745022&amp;fm=200&amp;gp=0.jpg" alt=""></p>
<h1 id="知道这20个正则表达式，能让你少写1-000行代码"><a href="#知道这20个正则表达式，能让你少写1-000行代码" class="headerlink" title="知道这20个正则表达式，能让你少写1,000行代码"></a>知道这20个正则表达式，能让你少写1,000行代码</h1><p>正则表达式，一个十分古老而又强大的文本处理工具，仅仅用一段非常简短的表达式语句，便能够快速实现一个非常复杂的业务逻辑。熟练地掌握正则表达式的话，能够使你的开发效率得到极大的提升。</p>
<p>正则表达式经常被用于字段或任意字符串的校验，如下面这段校验基本日期格式的JavaScript代码：</p>
<pre><code>var reg = /^(\\d{1,4})(-|\\/)(\\d{1,2})\\2(\\d{1,2})$/; 
var r = fieldValue.match(reg);             
if(r==null)alert(&apos;Date format error!&apos;);           
</code></pre><p>下面是<strong>技匠</strong>整理的，在前端开发中经常使用到的<strong>20</strong>个正则表达式。</p>
<hr>
<h4 id="1-校验密码强度"><a href="#1-校验密码强度" class="headerlink" title="1 . 校验密码强度"></a><strong>1 . 校验密码强度</strong></h4><p>密码的强度必须是包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间。</p>
<pre><code>^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$
</code></pre><h4 id="2-校验中文"><a href="#2-校验中文" class="headerlink" title="2. 校验中文"></a><strong>2. 校验中文</strong></h4><p>字符串仅能是中文。</p>
<pre><code>^[\\u4e00-\\u9fa5]{0,}$
</code></pre><h4 id="3-由数字、26个英文字母或下划线组成的字符串"><a href="#3-由数字、26个英文字母或下划线组成的字符串" class="headerlink" title="3. 由数字、26个英文字母或下划线组成的字符串"></a><strong>3. 由数字、26个英文字母或下划线组成的字符串</strong></h4><pre><code>^\\w+$
</code></pre><h4 id="4-校验E-Mail-地址"><a href="#4-校验E-Mail-地址" class="headerlink" title="4. 校验E-Mail 地址"></a><strong>4. 校验E-Mail 地址</strong></h4><p>同密码一样，下面是E-mail地址合规性的正则检查语句。</p>
<pre><code>[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;&apos;*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?
</code></pre><h4 id="5-校验身份证号码"><a href="#5-校验身份证号码" class="headerlink" title="5. 校验身份证号码"></a><strong>5. 校验身份证号码</strong></h4><p>下面是身份证号码的正则校验。15 或 18位。</p>
<p>15位：</p>
<pre><code>^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$
</code></pre><p>18位：</p>
<pre><code>^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$
</code></pre><h4 id="6-校验日期"><a href="#6-校验日期" class="headerlink" title="6. 校验日期"></a><strong>6. 校验日期</strong></h4><p>“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。</p>
<pre><code>^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$
</code></pre><h4 id="7-校验金额"><a href="#7-校验金额" class="headerlink" title="7. 校验金额"></a><strong>7. 校验金额</strong></h4><p>金额校验，精确到2位小数。</p>
<pre><code>^[0-9]+(.[0-9]{2})?$
</code></pre><h4 id="8-校验手机号"><a href="#8-校验手机号" class="headerlink" title="8. 校验手机号"></a><strong>8. 校验手机号</strong></h4><p>下面是国内 13、15、18开头的手机号正则表达式。（可根据目前国内收集号扩展前两位开头号码）</p>
<pre><code>^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$
</code></pre><h4 id="9-判断IE的版本"><a href="#9-判断IE的版本" class="headerlink" title="9. 判断IE的版本"></a><strong>9. 判断IE的版本</strong></h4><p>IE目前还没被完全取代，很多页面还是需要做版本兼容，下面是IE版本检查的表达式。</p>
<pre><code>^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$
</code></pre><h4 id="10-校验IP-v4地址"><a href="#10-校验IP-v4地址" class="headerlink" title="10. 校验IP-v4地址"></a><strong>10. 校验IP-v4地址</strong></h4><p>IP4 正则语句。</p>
<pre><code>\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b
</code></pre><h4 id="11-校验IP-v6地址"><a href="#11-校验IP-v6地址" class="headerlink" title="11. 校验IP-v6地址"></a><strong>11. 校验IP-v6地址</strong></h4><p>IP6 正则语句。</p>
<pre><code>(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))
</code></pre><h4 id="12-检查URL的前缀"><a href="#12-检查URL的前缀" class="headerlink" title="12. 检查URL的前缀"></a><strong>12. 检查URL的前缀</strong></h4><p>应用开发中很多时候需要区分请求是HTTPS还是HTTP，通过下面的表达式可以取出一个url的前缀然后再逻辑判断。</p>
<pre><code>if (!s.match(/^[a-zA-Z]+:\\/\\//))
{
    s = &apos;http://&apos; + s;
}
</code></pre><h4 id="13-提取URL链接"><a href="#13-提取URL链接" class="headerlink" title="13. 提取URL链接"></a><strong>13. 提取URL链接</strong></h4><p>下面的这个表达式可以筛选出一段文本中的URL。</p>
<pre><code>^(f|ht){1}(tp|tps):\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&amp;=]*)?
</code></pre><h4 id="14-文件路径及扩展名校验"><a href="#14-文件路径及扩展名校验" class="headerlink" title="14. 文件路径及扩展名校验"></a><strong>14. 文件路径及扩展名校验</strong></h4><p>验证windows下文件路径和扩展名（下面的例子中为.txt文件）</p>
<pre><code>^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?&quot;&lt;&gt;|]+\\.txt(l)?$
</code></pre><h4 id="15-提取Color-Hex-Codes"><a href="#15-提取Color-Hex-Codes" class="headerlink" title="15. 提取Color Hex Codes"></a><strong>15. 提取Color Hex Codes</strong></h4><p>有时需要抽取网页中的颜色代码，可以使用下面的表达式。</p>
<pre><code>^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$
</code></pre><h4 id="16-提取网页图片"><a href="#16-提取网页图片" class="headerlink" title="16. 提取网页图片"></a><strong>16. 提取网页图片</strong></h4><p>假若你想提取网页中所有图片信息，可以利用下面的表达式。</p>
<pre><code>\\&lt; *[img][^\\\\&gt;]*[src] *= *[\\&quot;\\&apos;]{0,1}([^\\&quot;\\&apos;\\ &gt;]*)
</code></pre><h4 id="17-提取页面超链接"><a href="#17-提取页面超链接" class="headerlink" title="17. 提取页面超链接"></a><strong>17. 提取页面超链接</strong></h4><p>提取html中的超链接。</p>
<pre><code>(&lt;a\\s*(?!.*\\brel=)[^&gt;]*)(href=&quot;https?:\\/\\/)((?!(?:(?:www\\.)?&apos;.implode(&apos;|(?:www\\.)?&apos;, $follow_list).&apos;))[^&quot;]+)&quot;((?!.*\\brel=)[^&gt;]*)(?:[^&gt;]*)&gt;
</code></pre><h4 id="18-查找CSS属性"><a href="#18-查找CSS属性" class="headerlink" title="18. 查找CSS属性"></a><strong>18. 查找CSS属性</strong></h4><p>通过下面的表达式，可以搜索到相匹配的CSS属性。</p>
<pre><code>^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.#]+[;]{1}
</code></pre><h4 id="19-抽取注释"><a href="#19-抽取注释" class="headerlink" title="19. 抽取注释"></a><strong>19. 抽取注释</strong></h4><p>如果你需要移除HMTL中的注释，可以使用如下的表达式。</p>
<pre><code>&lt;!--(.*?)--&gt;
</code></pre><h4 id="20-匹配HTML标签"><a href="#20-匹配HTML标签" class="headerlink" title="20. 匹配HTML标签"></a><strong>20. 匹配HTML标签</strong></h4><p>通过下面的表达式可以匹配出HTML中的标签属性。</p>
<pre><code>&lt;\\/?\\w+((\\s+\\w+(\\s*=\\s*(?:&quot;.*?&quot;|&apos;.*?&apos;|[\\^&apos;&quot;&gt;\\s]+))?)+\\s*|\\s*)\\/?&gt;
</code></pre><hr>
<h4 id="正则表达式的相关语法"><a href="#正则表达式的相关语法" class="headerlink" title="正则表达式的相关语法"></a>正则表达式的相关语法</h4><p>下面是我找到的一张非常不错的正则表达式 Cheat Sheet，可以用来快速查找相关语法。</p>
<hr>
<h4 id="学习正则表达式"><a href="#学习正则表达式" class="headerlink" title="学习正则表达式"></a>学习正则表达式</h4><p>我在网上看到了一篇相当不错的正则表达式<a href="https://link.jianshu.com?t=https://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110" target="_blank" rel="noopener">快速学习指南</a>.aspx)，有兴趣继续深入学习的同学可以参考。</p>
<hr>
<h4 id="正则表达式在线测试工具"><a href="#正则表达式在线测试工具" class="headerlink" title="正则表达式在线测试工具"></a>正则表达式在线测试工具</h4><p><a href="https://link.jianshu.com?t=https://regex101.com/#javascript" target="_blank" rel="noopener">regex101</a>是一个非常不错的正则表达式在线测试工具，你可以直接在线测试你的正则表达式哦。  </p>
<hr>
<p>另外，我也网上找到几本不错的正则表达式方面的教程和书籍，并将它们分享到了<a href="https://link.jianshu.com?t=jijiangshe.com" target="_blank" rel="noopener">技匠社jijiangshe.com</a>，如果你有兴趣学习欢迎访问获取。_</p>
<blockquote>
<p>简书签约作者，技匠，以上内容欢迎大家分享到朋友圈/微博等。</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/07/19/js常用代码段/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/19/js常用代码段/" itemprop="url">js常用代码段</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-19T15:19:23+00:00">
                2016-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/19/js常用代码段/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/19/js常用代码段/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用技术提升美好事物发生的概率_</p>
<p><em>Technologically, for greater probability to be happy.</em></p>
<p><img src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2640343099,240443346&amp;fm=27&amp;gp=0.jpg" alt=""></p>
<h1 id="推荐10-个短小却超实用的-JavaScript-代码段"><a href="#推荐10-个短小却超实用的-JavaScript-代码段" class="headerlink" title="推荐10 个短小却超实用的 JavaScript 代码段"></a>推荐10 个短小却超实用的 JavaScript 代码段</h1><p>JavaScript正变得越来越流行，它已经成为前端开发的第一选择，并且利用基于JavaScript语言的NodeJS，我们也可以开发出高性能的后端服务，甚至我还看到在硬件编程领域也出现了JavaScript的身影。JavaScript正在逐渐进化为一门全能的开发语言。</p>
<p>但用好JavaScript并不容易，你除了需要掌握它的语法并知道如何写出高质量的代码之外，还需要了解如何解决那些几乎在每个项目中都会遇到的需求场景，比如：判断日期，高亮文本，限制字符数等等，有很多第三方库可以解决这些问题，但这些库可能并非只是为解决这一个问题而创建的，这意味着你需要引入了很多无关的代码，这将使你的整个系统变得臃肿，而且也会影响到系统的性能。<strong>我的做法是，收集和使用那些常见的JavaScript代码段，并在需要时，尽可能首先使用它们</strong>。下面便是我收集的10段实用JavaScript代码，基于它们你还可以创造出更强大的JS插件或功能函数。</p>
<h4 id="1-判断日期是否有效"><a href="#1-判断日期是否有效" class="headerlink" title="1. 判断日期是否有效"></a>1. 判断日期是否有效</h4><p>JavaScript中自带的日期函数还是太过简单，很难满足真实项目中对不同日期格式进行解析和判断的需要。JQuery也有一些第三方库来使日期相关的处理变得简单，但有时你可能只需要一个非常简单的函数，而不想引入一个庞大的第三方库。这时，你可以使用下面这段日期校验代码，它允许你自定义日期格式并进行日期有效性的校验。</p>
<pre><code>function isValidDate(value, userFormat) {

  // Set default format if format is not provided
  userFormat = userFormat || &apos;mm/dd/yyyy&apos;;

  // Find custom delimiter by excluding
  // month, day and year characters
  var delimiter = /[^mdy]/.exec(userFormat)[0];

  // Create an array with month, day and year
  // so we know the format order by index
  var theFormat = userFormat.split(delimiter);

  // Create array from user date
  var theDate = value.split(delimiter);

  function isDate(date, format) {
    var m, d, y, i = 0, len = format.length, f;
    for (i; i &lt; len; i++) {
      f = format[i];
      if (/m/.test(f)) m = date[i];
      if (/d/.test(f)) d = date[i];
      if (/y/.test(f)) y = date[i];
    }
    return (
      m &gt; 0 &amp;&amp; m &lt; 13 &amp;&amp;
      y &amp;&amp; y.length === 4 &amp;&amp;
      d &gt; 0 &amp;&amp;
      // Check if it&apos;s a valid day of the month
      d &lt;= (new Date(y, m, 0)).getDate()
    );
  }

  return isDate(theDate, theFormat);
}
</code></pre><p><strong>使用方法：</strong><br>下面这个调用返回false，因为11月份没有31天</p>
<pre><code>isValidDate(&apos;dd-mm-yyyy&apos;, &apos;31/11/2012&apos;)
</code></pre><hr>
<h4 id="2-获取一组元素的最大宽度或高度"><a href="#2-获取一组元素的最大宽度或高度" class="headerlink" title="2. 获取一组元素的最大宽度或高度"></a>2. 获取一组元素的最大宽度或高度</h4><p>下面这个函数，对于需要进行动态排版的开发人员非常有用。</p>
<pre><code>var getMaxHeight = function ($elms) {
  var maxHeight = 0;
  $elms.each(function () {
    // In some cases you may want to use outerHeight() instead
    var height = $(this).height();
    if (height &gt; maxHeight) {
      maxHeight = height;
    }
  });
  return maxHeight;
};
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>$(elements).height( getMaxHeight($(elements)) );
</code></pre><hr>
<h4 id="3-高亮文本"><a href="#3-高亮文本" class="headerlink" title="3. 高亮文本"></a>3. 高亮文本</h4><p>有很多JQuery的第三方库可以实现高亮文本的功能，但我更喜欢用下面这一小段JavaScript代码来实现这个功能，它非常短小，而且可以根据我的需要去进行灵活的修改，而且可以自己定义高亮的样式。下面这两个函数可以帮助你创建自己的文本高亮插件。</p>
<pre><code>function highlight(text, words, tag) {

  // Default tag if no tag is provided
  tag = tag || &apos;span&apos;;

  var i, len = words.length, re;
  for (i = 0; i &lt; len; i++) {
    // Global regex to highlight all matches
    re = new RegExp(words[i], &apos;g&apos;);
    if (re.test(text)) {
      text = text.replace(re, &apos;&lt;&apos;+ tag +&apos; class=&quot;highlight&quot;&gt;$&amp;&lt;/&apos;+ tag +&apos;&gt;&apos;);
    }
  }

  return text;
}
</code></pre><p>你同样会需要取消高亮的函数：</p>
<pre><code>function unhighlight(text, tag) {
  // Default tag if no tag is provided
  tag = tag || &apos;span&apos;;
  var re = new RegExp(&apos;(&lt;&apos;+ tag +&apos;.+?&gt;|&lt;\/&apos;+ tag +&apos;&gt;)&apos;, &apos;g&apos;);
  return text.replace(re, &apos;&apos;);
}
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>$(&apos;p&apos;).html( highlight(
    $(&apos;p&apos;).html(), // the text
    [&apos;foo&apos;, &apos;bar&apos;, &apos;baz&apos;, &apos;hello world&apos;], // list of words or phrases to highlight
    &apos;strong&apos; // custom tag
));
</code></pre><hr>
<h4 id="4-文字动效"><a href="#4-文字动效" class="headerlink" title="4. 文字动效"></a>4. 文字动效</h4><p>有时你会希望给你的一段文字增加动效，让其中的每个字都动起来。你可以使用下面这段jQuery插件代码来达到这个效果。当然你需要结合一个CSS3 transition样式来达到更好的效果。</p>
<pre><code>$.fn.animateText = function(delay, klass) {

  var text = this.text();
  var letters = text.split(&apos;&apos;);

  return this.each(function(){
    var $this = $(this);
    $this.html(text.replace(/./g, &apos;&lt;span class=&quot;letter&quot;&gt;$&amp;&lt;/span&gt;&apos;));
    $this.find(&apos;span.letter&apos;).each(function(i, el){
      setTimeout(function(){ $(el).addClass(klass); }, delay * i);
    });
  });

};
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>$(&apos;p&apos;).animateText(15, &apos;foo&apos;);
</code></pre><hr>
<h4 id="5-逐个隐藏元素"><a href="#5-逐个隐藏元素" class="headerlink" title="5. 逐个隐藏元素"></a>5. 逐个隐藏元素</h4><p>下面这个jQuery插件可以根据你设置的步长（间隔时间）来逐个隐藏一组元素。在列表元素的重新加载中使用，可以达到很好的效果。</p>
<pre><code>$.fn.fadeAll = function (ops) {
  var o = $.extend({
    delay: 500, // delay between elements
    speed: 500, // animation speed
    ease: &apos;swing&apos; // other require easing plugin
  }, ops);
  var $el = this;
  for (var i=0, d=0, l=$el.length; i&lt;l; i++, d+=o.delay) {
    $el.eq(i).delay(d).fadeIn(o.speed, o.ease);
  }
  return $el;
}
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>$(elements).fadeAll({ delay: 300, speed: 300 });
</code></pre><hr>
<h4 id="6-限制文本字数"><a href="#6-限制文本字数" class="headerlink" title="6. 限制文本字数"></a>6. 限制文本字数</h4><p>下面这端脚本允许你根据给定的字符长度截取文本，如果文本被截取，那么它的后面会自动带上省略号。</p>
<pre><code>function excerpt(str, nwords) {
  var words = str.split(&apos; &apos;);
  words.splice(nwords, words.length-1);
  return words.join(&apos; &apos;) +
    (words.length !== str.split(&apos; &apos;).length ? &apos;…&apos; : &apos;&apos;);
}
</code></pre><hr>
<h4 id="7-判断相应式布局中当前适配度"><a href="#7-判断相应式布局中当前适配度" class="headerlink" title="7. 判断相应式布局中当前适配度"></a>7. 判断相应式布局中当前适配度</h4><p>目前很多设计已经采用了响应式布局来适配网站或应用在不同设备上的显示。你经常需要在代码中判断当前处于哪一个屏幕适配度下。</p>
<pre><code>function isBreakPoint(bp) {
  // The breakpoints that you set in your css
  var bps = [320, 480, 768, 1024];
  var w = $(window).width();
  var min, max;
  for (var i = 0, l = bps.length; i &lt; l; i++) {
    if (bps[i] === bp) {
      min = bps[i-1] || 0;
      max = bps[i];
      break;
    }
  }
  return w &gt; min &amp;&amp; w &lt;= max;
}
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>if ( isBreakPoint(320) ) {
  // breakpoint at 320 or less
}
if ( isBreakPoint(480) ) {
  // breakpoint between 320 and 480
}
…
</code></pre><hr>
<h4 id="8-全局计数"><a href="#8-全局计数" class="headerlink" title="8. 全局计数"></a>8. 全局计数</h4><p>在一些游戏或广告场景中，你需要记录用户在当前页面上点击某一个按钮的次数，这时你可以使用jQuery的.data()函数来处理：</p>
<pre><code>$(element)
    .data(&apos;counter&apos;, 0) // begin counter at zero
    .click(function() {
        var counter = $(this).data(&apos;counter&apos;); // get
        $(this).data(&apos;counter&apos;, counter + 1); // set
        // do something else...
    });
</code></pre><hr>
<h4 id="9-嵌入优酷视频"><a href="#9-嵌入优酷视频" class="headerlink" title="9. 嵌入优酷视频"></a>9. 嵌入优酷视频</h4><pre><code>function embedYouku(link, ops) {

  var o = $.extend({
    width: 480,
    height: 320,
    params: &apos;&apos;
  }, ops);

  var id = /\?v\=(\w+)/.exec(link)[1];

  return &apos;&lt;embed allowFullScreen=&quot;true&quot; id=&quot;embedid&quot;  quality=&quot;high&quot; width=&quot;&apos;+o.width+&apos;&quot; height=&quot;&apos;+o.height+&apos;&quot; align=&quot;middle&quot; allowScriptAccess=&quot;always&quot; type=&quot;application/x-shockwave-flash&quot; src=&quot;&apos;+id+&apos;?&apos;+o.ops&apos;&quot;&apos;;
}
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>embedYouku(
  &apos;http://static.youku.com/v/swf/qplayer.swf&apos;, 
  {&apos;winType=adshow&amp;VideoIDS=XMTE3NzQ0NTky&amp;isAutoPlay=false&amp;isShowRelatedVideo=false&apos;}
);
</code></pre><hr>
<h4 id="10-创建动态菜单或下拉列表"><a href="#10-创建动态菜单或下拉列表" class="headerlink" title="10. 创建动态菜单或下拉列表"></a>10. 创建动态菜单或下拉列表</h4><p>在很多场景中，我们都需要动态地创建菜单、下拉列表或列表项。下面是一段最基础的代码实现上面的功能，你可以根据实际需要进行相应的扩展。</p>
<pre><code>function makeMenu(items, tags) {

  tags = tags || [&apos;ul&apos;, &apos;li&apos;]; // default tags
  var parent = tags[0];
  var child = tags[1];

  var item, value = &apos;&apos;;
  for (var i = 0, l = items.length; i &lt; l; i++) {
    item = items[i];
    // Separate item and value if value is present
    if (/:/.test(item)) {
      item = items[i].split(&apos;:&apos;)[0];
      value = items[i].split(&apos;:&apos;)[1];
    }
    // Wrap the item in tag
    items[i] = &apos;&lt;&apos;+ child +&apos; &apos;+
      (value &amp;&amp; &apos;value=&quot;&apos;+value+&apos;&quot;&apos;) +&apos;&gt;&apos;+ // add value if present
        item +&apos;&lt;/&apos;+ child +&apos;&gt;&apos;;
  }

  return &apos;&lt;&apos;+ parent +&apos;&gt;&apos;+ items.join(&apos;&apos;) +&apos;&lt;/&apos;+ parent +&apos;&gt;&apos;;
}
</code></pre><p><strong>使用方法：</strong></p>
<pre><code>// Dropdown select month
makeMenu(
  [&apos;January:JAN&apos;, &apos;February:FEB&apos;, &apos;March:MAR&apos;], // item:value
  [&apos;select&apos;, &apos;option&apos;]
);

// List of groceries
makeMenu(
  [&apos;Carrots&apos;, &apos;Lettuce&apos;, &apos;Tomatos&apos;, &apos;Milk&apos;],
  [&apos;ol&apos;, &apos;li&apos;]
);
</code></pre><hr>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p>以上只是那些实用JavaScript代码段中的一小部分，我也建议你平时注意收集或自己编写这样的基础代码段，它们能在很多项目中使用或通过一些改造提供更完善的功能，使用这些代码段将为你节省下大量的开发时间。</p>
<hr>
<blockquote>
<p>简书签约作者：技匠，以上内容欢迎大家分享到朋友圈/微博等。</p>
</blockquote>
<p>如果你觉得文章不错，或许也会喜欢我的新书《程序员的自我修养》，一本写给程序员的思考书（清华大学…</p>
<p>赞赏支持</p>
<p><a href="/nb/3235992">技匠•程序员</a></p>
<p>© 著作权归作者所有</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/07/19/hexo-github个人博客搭建/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/19/hexo-github个人博客搭建/" itemprop="url">hexo github个人博客搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-19T15:14:47+00:00">
                2016-07-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/后端/" itemprop="url" rel="index">
                    <span itemprop="name">后端</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/19/hexo-github个人博客搭建/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/07/19/hexo-github个人博客搭建/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一、添加扫描二维码关注功能"><a href="#一、添加扫描二维码关注功能" class="headerlink" title="一、添加扫描二维码关注功能"></a>一、添加扫描二维码关注功能</h3><p>打开 themes 目录下的 next 主题配置文件，找到 Wechat Subscriber 标签，将该标签下的配置改成如下形式：</p>
<pre><code># Wechat Subscriber
wechat_subscriber:
  enabled: true            # 打开图片显示功能
  qcode: /images/wechat-qcode.jpg    # 需要显示的二维码图片
  description: 扫描二维码关注微信公众号，了解更多    # 在图片的底部添加描述
复制代码
</code></pre><p>配置完成后，切记将所需要扫描的二维码图片放置在 images 文件夹下面，否则系统找不到图片。</p>
<p>结果如下图所示：</p>
<p><img src="http://img5.imgtn.bdimg.com/it/u=2112417467,3935614504&amp;fm=27&amp;gp=0.jpg" alt=""></p>
<h3 id="二、添加文章赞赏功能"><a href="#二、添加文章赞赏功能" class="headerlink" title="二、添加文章赞赏功能"></a>二、添加文章赞赏功能</h3><p>打开 themes 目录下的 next 主题配置文件，找到 Reward 标签，将该标签下的配置改成如下形式：</p>
<pre><code># Reward
reward_comment: 赞赏是最好的支持与鼓励！    # 添加打赏描述
wechatpay: /images/wechatpay.jpg    # 微信收款码图片
alipay: /images/alipay.jpg        # 支付宝收款码图片
#bitcoin: /images/bitcoin.png
复制代码
</code></pre><p>配置完成后，切记将所需要收款码图片放置在 images 文件夹下面，否则系统找不到图片。</p>
<p>结果如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee049f9fd4913?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<h4 id="三、添加文章版权声明功能"><a href="#三、添加文章版权声明功能" class="headerlink" title="三、添加文章版权声明功能"></a>三、添加文章版权声明功能</h4><p>打开 themes 目录下的 next 主题配置文件，找到 Declare license on posts 标签，将该标签下的配置改成如下形式：</p>
<pre><code># Declare license on posts
post_copyright:
  enable: true        # 激活版权声明模块
  license: CC BY-NC-SA 3.0    # 版权许可协议
  license_url: https://compassblog.github.io/    # 声明的文章的可点击链接（域名）
复制代码
</code></pre><p>配置完成后，执行如下 主目录下打开 Git Bash 命令窗口，执行如下命令开启 hexo 服务器：</p>
<pre><code>hexo s
复制代码
</code></pre><p>浏览器访问，显示结果如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee049fb5f655c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<h3 id="四、添加-Gitalk-评论系统"><a href="#四、添加-Gitalk-评论系统" class="headerlink" title="四、添加 Gitalk 评论系统"></a>四、添加 Gitalk 评论系统</h3><h4 id="1、什么是-Gitalk"><a href="#1、什么是-Gitalk" class="headerlink" title="1、什么是 Gitalk"></a>1、什么是 Gitalk</h4><p>Gitalk 是一个基于 Github Issue 和 Preact 开发的评论插件，这款评论插件使用 Github 登录，也可以快速提交评论，其实有一款与 Gitalk 类似的评论插件叫 Gitment，然而这款有国内大神编写的评论插件已经不再维护，因此就只能选择国外的 Gitalk 了，并且 Gitalk 支持移动端。</p>
<h4 id="2、为什么要用-Gitalk"><a href="#2、为什么要用-Gitalk" class="headerlink" title="2、为什么要用 Gitalk"></a>2、为什么要用 Gitalk</h4><p>我们知道 hexo 博客 的 Next 主题支持多种评论系统的继承，例如 Disqus，畅言，网易云跟帖，多说，来比力，友说，红杏等评论系统，但是这些评论系统要么不再提供服务，要么需要「科学上网」才能够加载，要么就是龟速加载，好吧，我想说的就是 Gitalk ，现在你明白为啥要用 Gitalk 了？</p>
<h4 id="3、Gitalk-评论系统集成"><a href="#3、Gitalk-评论系统集成" class="headerlink" title="3、Gitalk 评论系统集成"></a>3、Gitalk 评论系统集成</h4><p>（1）新建一个 GitHub 仓库，用于存放评论的记录，如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee049fb8428a3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<p>（2）在 GitHub 上新建一个 OAuth application ： <a href="https://link.juejin.im?target=https%3A%2F%2Fgithub.com%2Fsettings%2Fapplications%2Fnew" target="_blank" rel="noopener">点击这里可以直接新建</a></p>
<p>新建 OAuth application 详细说明：</p>
<pre><code>Application name //第（1）点建立的仓库名称
Homepage URL //博客地址
Application description //可不填
Authorization callback URL //博客地址
复制代码
</code></pre><p>如下图所示：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee049fb6ab50c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<p>完成后，我们回获得如下图中的相关信息，后面可能会用到：</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee049fbaf681f?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>
<p>（3）创建 Gitalk 的 swig 文件，在博客的主目录中打开 <code>themes/next/layout/_third-party/comments</code> 文件夹，新建 gitalk.swig 文件，在文件中配置如下代码：</p>
<pre><code>{% if not (theme.duoshuo and theme.duoshuo.shortname) and not theme.duoshuo_shortname %}
      
      {% if theme.gitalk.enable %}  //_config.yml文件若没有添加enable: true可删除该判断
    
        {% if theme.gitalk.distractionFreeMode  %}      
    	  <link rel="stylesheet" href="https://yiyeti.cc/usr/themes/veryse/css/gitalk.css">
          <script src="https://yiyeti.cc/usr/themes/veryse/css/gitalk.min.js"></script>
          <script type="text/javascript">
              var gitalk = new Gitalk({
                clientID:  '{{theme.gitalk.clientID}}', 
                clientSecret: '{{theme.gitalk.clientSecret}}',
                id: window.location.pathname,
                repo: '{{theme.gitalk.repo}}', 
                owner: '{{theme.gitalk.owner}}', 
                admin: '{{theme.gitalk.admin}}', 
                distractionFreeMode: '{{theme.gitalk.distractionFreeMode}}',
              })
              gitalk.render('gitalk-container')
          </script>
        {% endif %}

  {% endif %}
{% endif %}
复制代码
</code></pre><p>（4）在同样的目录下找到并打开 <code>index.swig</code> 文件，在文件中配置如下代码引入 gitalk.swig 文件：</p>
<pre><code>{% include 'gitalk.swig' %}
复制代码
</code></pre><p>（5）在博客的主目录中打开 <code>themes/next/layout/_partials/</code> 文件夹，找到并打开 <code>comments.swig</code> 文件，找到最后一个if分支，即下面这个分支代码：</p>
<pre><code>{% elseif theme.valine.appid and theme.valine.appkey %}
      &lt;div id=&quot;vcomments&quot;&gt;&lt;/div&gt;
复制代码
</code></pre><p>在这个 if 分支后加一个 Gitalk 的分支，代码如下：</p>
<pre><code>{% elseif theme.gitalk.enable %}
 &lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt;
复制代码
</code></pre><p>（6）在 <code>themes/next/_config.xml</code> 主题配置文件中加入如下配置：</p>
<pre><code>gitalk:
  enable: true    # 是否开启 Gitalk 评论
  owner:      # GitHub 用户名     
  repo:         #仓库名称
  ClientID: ******
  ClientSecret: ******
  admin:     # GitHub 用户名
  distractionFreeMode: true
复制代码
</code></pre><p>到这里，Gitalk 评论系统基本就已经集成了。</p>
<p><strong>后记：</strong> 最近 GitHub 限制了访问 label 的长度，即当我们博客文章的标题标签转换成 Issue超过 50 个字符时，Gitalk 评论系统便无法进行初始化，即对我们博客题目有了限制。而对于这个问题的解决，目前的想法是可以通过 md5 转换的方式封装 id，后续如果有好的解决办法，再更新吧。</p>
<p>扫描二维码关注微信公众号，了解更多</p>
<p>=====================</p>
<p><img src="https://user-gold-cdn.xitu.io/2018/4/22/162ee052f2f34569?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/15/Java集合类的比较/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/15/Java集合类的比较/" itemprop="url">Java集合类的比较</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-15T12:46:49+00:00">
                2016-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Java-面试题/" itemprop="url" rel="index">
                    <span itemprop="name">Java 面试题</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/15/Java集合类的比较/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/15/Java集合类的比较/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/12/jQuery监听用户名输入-AJAX校验用户名是否被注册/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/12/jQuery监听用户名输入-AJAX校验用户名是否被注册/" itemprop="url">jQuery监听用户名输入+AJAX校验用户名是否被注册</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-12T23:13:13+00:00">
                2016-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/监听校验/" itemprop="url" rel="index">
                    <span itemprop="name">监听校验</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/12/jQuery监听用户名输入-AJAX校验用户名是否被注册/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/12/jQuery监听用户名输入-AJAX校验用户名是否被注册/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前端代码展示"><a href="#前端代码展示" class="headerlink" title="前端代码展示"></a>前端代码展示</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-2"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sf:input</span> <span class="attr">cssClass</span>=<span class="string">"form-control"</span> <span class="attr">path</span>=<span class="string">"username"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sf:errors</span> <span class="attr">path</span>=<span class="string">"username"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-2"</span> <span class="attr">id</span>=<span class="string">"usernameError"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//键盘松开时触发监听事件，有实时反馈的效果（focus、blur等体验不好，都需要DOM失去焦点时才触发）</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">":input[name='username']"</span>).keyup(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> val = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">            val = $.trim(val);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(val != <span class="string">""</span>)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//发送请求到指定url，后端需要针对该url写对应的处理方法</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> url = <span class="string">"$&#123;pageContext.request.contextPath&#125;/validateUsername"</span>;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> args = &#123;<span class="string">"username"</span>: val, <span class="string">"time"</span>: <span class="keyword">new</span> <span class="built_in">Date</span>()&#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">//使用jQuery的ajax相关方法进行前后端交互</span></span></span><br><span class="line"><span class="javascript">                $.post(url, args, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//将服务端返回的数据作为html元素放到指定位置</span></span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"#usernameError"</span>).html(data);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="后端处理"><a href="#后端处理" class="headerlink" title="后端处理"></a>后端处理</h2><p>　　<code>@responseBody</code>注解返回，出现<strong>返回的中文内容乱码显示为?</strong>的问题，进行排查（已在web.xml中配置字符编码过滤器，前端页面也声明了charset…）。查看发现response返回的内容编码是”ISO-8859-1”，最简单的解决方案如下：在对应方法的<code>@RequestMapping</code>中添加<code>produces = &quot;application/html;charset=utf-8&quot;</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@RequestMapping(value = &quot;/validateUsername&quot;, method = RequestMethod.POST, produces = &quot;application/html;charset=utf-8&quot;)</span><br><span class="line">@ResponseBody</span><br><span class="line">public String validateUsername(@RequestParam(&quot;username&quot;) String username)&#123;</span><br><span class="line"></span><br><span class="line">    return spitterService.validateUsername(username);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/12/jQuery/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/12/jQuery/" itemprop="url">jQuery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-12T16:30:14+00:00">
                2016-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/jQuery/" itemprop="url" rel="index">
                    <span itemprop="name">jQuery</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/12/jQuery/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/12/jQuery/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>jQuery是使用最广泛的一个JavaScript库。</p>
<p><strong>特点</strong></p>
<ul>
<li>消除浏览器差异：你不需要自己写冗长的代码来针对不同的浏览器来绑定事件，编写AJAX等代码；</li>
<li>简洁的操作DOM的方法：<code>document.getElementById(&#39;test&#39;)</code> 简化为<code>$(&#39;#test&#39;)</code></li>
<li>轻松实现动画、修改CSS等各种操作。</li>
</ul>
<h2 id="符号"><a href="#符号" class="headerlink" title="$符号"></a><code>$</code>符号</h2><p><code>$</code>是全局变量<code>jQuery</code>的别名，包含了jQuery的所有功能。</p>
<h2 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h2><p>选择器的作用：快速定位到一个或多个DOM节点。</p>
<ul>
<li><p>按ID查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 查找&lt;div id=&quot;abc&quot;&gt;</span><br><span class="line">var div = $(&apos;#abc&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>按tag查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var ps = $(&apos;p&apos;); // 返回所有&lt;p&gt;节点</span><br><span class="line">ps.length; // 数一数页面有多少个&lt;p&gt;节点</span><br></pre></td></tr></table></figure>
</li>
<li><p>按class查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var a = $(&apos;.red&apos;); // 所有包含 class=&quot;red&quot; 的节点都将返回</span><br><span class="line">//通常很多节点有多个class，可以查找同时包含red和green的节点：</span><br><span class="line">var a = $(&apos;.red.green&apos;); // 注意没有空格！</span><br></pre></td></tr></table></figure>
</li>
<li><p>按属性查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var email = $(&apos;[name=email]&apos;); // 找出&lt;??? name=&quot;email&quot;&gt;</span><br><span class="line">//当属性的值包含空格等特殊字符时，需要用双引号括起来</span><br><span class="line">var a = $(&apos;[items=&quot;A B&quot;]&apos;); // 找出&lt;??? items=&quot;A B&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>组合查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var emailInput = $(&apos;input[name=email]&apos;); // 查找&lt;input name=&quot;email&quot;&gt;</span><br><span class="line">var tr = $(&apos;tr.red&apos;); // 找出&lt;tr class=&quot;red ...&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多项选择器<br>多项选择器就是把多个选择器用<code>,</code>组合起来一块选</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(&apos;p,div&apos;); // 把&lt;p&gt;和&lt;div&gt;都选出来</span><br><span class="line">$(&apos;p.red,p.green&apos;); // 把&lt;p class=&quot;red&quot;&gt;和&lt;p class=&quot;green&quot;&gt;都选出来</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="层级选择器"><a href="#层级选择器" class="headerlink" title="层级选择器"></a>层级选择器</h3><h3 id="查找和过滤"><a href="#查找和过滤" class="headerlink" title="查找和过滤"></a>查找和过滤</h3><h2 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h2><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><h2 id="jQuery实现AJAX"><a href="#jQuery实现AJAX" class="headerlink" title="jQuery实现AJAX"></a><a href="/2018/06/12/使用jQuery实现Ajax">jQuery实现AJAX</a></h2><h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/12/JSON/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/12/JSON/" itemprop="url">JSON</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-12T11:48:47+00:00">
                2016-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/12/JSON/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/12/JSON/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JSON概述"><a href="#JSON概述" class="headerlink" title="JSON概述"></a>JSON概述</h2><p>JSON（JavaScript Object Notation，JavaScript对象表示法），是一种简单<strong>轻量的数据格式</strong>。<strong>JSON是JavaScript的原生格式</strong>，在JavaScript中处理JSON数据不需要额外的API或工具包。</p>
<h2 id="JSON的语法"><a href="#JSON的语法" class="headerlink" title="JSON的语法"></a>JSON的语法</h2><ul>
<li>{}：是对象<ul>
<li>属性名 <strong>必须用<code>&quot; &quot;</code>包含</strong></li>
<li>属性值<ul>
<li>null</li>
<li>数值</li>
<li>字符串</li>
<li>数组：用[]括起来</li>
<li>boolean值：true和false  </li>
</ul>
</li>
</ul>
</li>
</ul>
<p>JSON对象由 名称/值对组成，名称和值之间用<code>:</code>隔开；不同的名称/值对之间用 逗号<code>,</code>隔开。<br>值可以是任意javascript数据类型，字符串，布尔，数字 ，数组甚至是<strong>对象、方法</strong> 。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    var person = &#123;&quot;name&quot;:&quot;zhangSan&quot;, </span><br><span class="line">                    &quot;age&quot;:18, </span><br><span class="line">                    &quot;sex&quot;:&quot;male&quot;</span><br><span class="line">                    &quot;address&quot;:&#123;&quot;province:&quot;:&quot;浙江&quot;, &quot;city&quot;:&quot;温州&quot;&#125;,</span><br><span class="line">                    &quot;work&quot;:function()&#123;</span><br><span class="line">                        alert(&quot;江南皮革厂&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;;</span><br><span class="line">    &lt;!-- 调用方法：弹出对话框显示内容 --&gt;</span><br><span class="line">    person.work();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/12/使用jQuery实现Ajax/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/12/使用jQuery实现Ajax/" itemprop="url">使用jQuery实现Ajax</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-12T10:41:23+00:00">
                2016-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/jQuery/" itemprop="url" rel="index">
                    <span itemprop="name">jQuery</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/12/使用jQuery实现Ajax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/12/使用jQuery实现Ajax/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>jQuery对AJAX操作进行了封装，在JjQuery中:</p>
<ul>
<li>最底层的方法：<code>$.ajax()</code></li>
<li>第二层（<strong>最常用</strong>）：<code>load()</code>, <code>$.get()</code>, <code>$.post()</code></li>
<li>第三层：<code>$.getScript()</code>, <code>$.getJSON()</code></li>
</ul>
<h2 id="load-方法-（处理HTML）"><a href="#load-方法-（处理HTML）" class="headerlink" title="load()方法 （处理HTML）"></a><code>load()</code>方法 （处理HTML）</h2><p><code>load()</code>方法是jQuery中最为简单和常用的Ajax方法，能<strong>载入远程的HTML代码并插入到DOM中</strong>。只需为HTML片段指定展示的位置，然后将要加载的内容的url作为参数传递给<code>load()</code>函数即可。</p>
<h3 id="load-的参数（按顺序）"><a href="#load-的参数（按顺序）" class="headerlink" title="load()的参数（按顺序）"></a><code>load()</code>的参数（按顺序）</h3><table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String</td>
<td>请求HTML页面的url地址</td>
</tr>
<tr>
<td>data(可选)</td>
<td>Object</td>
<td>发送到服务器的 key/value 数据(json格式)，会作为QueryString附加到请求的URL中</td>
</tr>
<tr>
<td>callback(可选)</td>
<td>Function</td>
<td>请求完成时的回调函数，无论请求是否成功</td>
</tr>
</tbody>
</table>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;a href="链接地址"&gt;平平无奇超链接&lt;/a&gt;</span><br><span class="line">	&lt;div id="content"&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type="text/javascript" src="jquery的路径"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	$(function()&#123;</span><br><span class="line">		$(<span class="string">"a"</span>).click(function()&#123;</span><br><span class="line">			<span class="comment">//使用load方法处理AJAX</span></span><br><span class="line">			var url = <span class="keyword">this</span>.href + <span class="string">" h2 a"</span>;<span class="comment">//" h2 a"表示只展示部分标签的内容，空格表示子标签的递进</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//禁用缓存，效果等同于在url之后加上了 "?time=" + new Date()</span></span><br><span class="line">			var args = &#123;<span class="string">"time"</span>: <span class="keyword">new</span> Date()&#125;;</span><br><span class="line">            <span class="comment">//在指定标签加载内容</span></span><br><span class="line">			$&#123;<span class="string">"#content"</span>&#125;.load(url, args);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="get-post-方法"><a href="#get-post-方法" class="headerlink" title="$.get() / $.post()方法"></a><code>$.get()</code> / <code>$.post()</code>方法</h2><h3 id="get-post-的参数（按顺序）"><a href="#get-post-的参数（按顺序）" class="headerlink" title="$.get() / $.post()的参数（按顺序）"></a><code>$.get()</code> / <code>$.post()</code>的参数（按顺序）</h3><table>
<thead>
<tr>
<th>参数名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>String</td>
<td>请求HTML页面的url地址</td>
</tr>
<tr>
<td>data(可选)</td>
<td>Object</td>
<td>发送到服务器的 key/value 数据(json格式)，会作为QueryString附加到请求的URL中</td>
</tr>
<tr>
<td>callback(可选)</td>
<td>Function</td>
<td><strong>请求成功时</strong>的回调函数，自动将请求结果和状态传递给该方法</td>
</tr>
<tr>
<td>type（可选）</td>
<td>String</td>
<td>服务器返回的内容格式，包括 xml、html、script、json、text和_default</td>
</tr>
</tbody>
</table>
<h3 id="处理XML数据示例"><a href="#处理XML数据示例" class="headerlink" title="处理XML数据示例"></a>处理XML数据示例</h3><ul>
<li><p>目标格式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:hspecial@163.com"</span>&gt;</span>hunter<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://hunter1023.github.io/"</span>&gt;</span>https://hunter1023.github.io/<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>处理过程</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href="xxx"&gt;一个平平无奇的超链接&lt;/a&gt;</span><br><span class="line">    &lt;div id="details(指定标签的id用于存放结果)"&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type="text/javascript" src="jquery的路径"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	$(function()&#123;</span><br><span class="line">		$(<span class="string">"a"</span>).click(function()&#123;</span><br><span class="line">			</span><br><span class="line">			var url = <span class="keyword">this</span>.href;</span><br><span class="line">			var args = &#123;<span class="string">"time"</span>: <span class="keyword">new</span> Date()&#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//返回的结果位于回调函数的参数data中，将其转为jQuery对象，获取节点内容</span></span><br><span class="line">			$.get(url, args, function(data)&#123;</span><br><span class="line">                var name = $(data).find(<span class="string">"name"</span>).text();</span><br><span class="line">                var email = $(data).find(<span class="string">"email"</span>).text();</span><br><span class="line">                var website = $(data).find(<span class="string">"website"</span>).text();</span><br><span class="line">                </span><br><span class="line">                <span class="comment">//先清空标签内容，再添加</span></span><br><span class="line">                $(<span class="string">"#details"</span>).empty()</span><br><span class="line">                            .append(<span class="string">"&lt;h2&gt;&lt;a href='mailto:"</span> + email + <span class="string">"'&gt;"</span> + name + <span class="string">"&lt;/a&gt;&lt;/h2&gt;"</span>)</span><br><span class="line">                            .append(<span class="string">"&lt;a href='"</span> + website +<span class="string">"'&gt;"</span> + website + <span class="string">"&lt;/a&gt;"</span>);</span><br><span class="line">            &#125;)；</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="getJSON-方法（处理JSON数据）"><a href="#getJSON-方法（处理JSON数据）" class="headerlink" title="$.getJSON()方法（处理JSON数据）"></a><code>$.getJSON()</code>方法（处理JSON数据）</h2><ul>
<li><p>JSON文件内容</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"person"</span>:&#123;</span><br><span class="line">        <span class="string">"name"</span>:<span class="string">"Hunter"</span>,</span><br><span class="line">        <span class="string">"website"</span>:<span class="string">"https://hunter1023.github.io/"</span>,</span><br><span class="line">        <span class="string">"email"</span>:<span class="string">"hspecial@163.com"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>目标格式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:hspecial@163.com"</span>&gt;</span>hunter<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://hunter1023.github.io/"</span>&gt;</span>https://hunter1023.github.io/<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>处理过程</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href="xxx"&gt;一个平平无奇的超链接&lt;/a&gt;</span><br><span class="line">    &lt;div id="details(指定标签的id用于存放结果)"&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type="text/javascript" src="jquery的路径"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">	$(function()&#123;</span><br><span class="line">		$(<span class="string">"a"</span>).click(function()&#123;</span><br><span class="line">			</span><br><span class="line">			var url = <span class="keyword">this</span>.href;</span><br><span class="line">			var args = &#123;<span class="string">"time"</span>: <span class="keyword">new</span> Date()&#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 返回的结果位于回调函数的参数data中，data为json数据，可以通过`.`直接获取</span></span><br><span class="line"><span class="comment">            也可以通过 $.get(),指定最后一个type参数为 "JSON"。也可按如下获取data中的数据</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">			$.getJSON(url, args, function(data)&#123;</span><br><span class="line">                var name = data.person.name;</span><br><span class="line">                var email = data.person.email;</span><br><span class="line">                var website = data.person.website;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">//先清空标签内容，再添加</span></span><br><span class="line">                $(<span class="string">"#details"</span>).empty()</span><br><span class="line">                            .append(<span class="string">"&lt;h2&gt;&lt;a href='mailto:"</span> + email + <span class="string">"'&gt;"</span> + name + <span class="string">"&lt;/a&gt;&lt;/h2&gt;"</span>)</span><br><span class="line">                            .append(<span class="string">"&lt;a href='"</span> + website +<span class="string">"'&gt;"</span> + website + <span class="string">"&lt;/a&gt;"</span>);</span><br><span class="line">            &#125;)；</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/11/JavaScript/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/11/JavaScript/" itemprop="url">JavaScript</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-11T23:22:05+00:00">
                2016-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/11/JavaScript/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/11/JavaScript/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="JavaScript概述"><a href="#JavaScript概述" class="headerlink" title="JavaScript概述"></a>JavaScript概述</h2><p><code>JavaScript</code>是<strong>基于对象和事件驱动的脚本语言</strong>，主要应用在客户端，比如提交的时候，进行用户名是否为空的判断。</p>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul>
<li>交互性(信息的动态交互)</li>
<li>安全性(不允许直接访问本地硬盘)</li>
<li>跨平台性(只要是可以解析Js的浏览器都能运行，与平台无关)</li>
</ul>
<h2 id="JavaScript和HTML的两种结合方式"><a href="#JavaScript和HTML的两种结合方式" class="headerlink" title="JavaScript和HTML的两种结合方式"></a>JavaScript和HTML的两种结合方式</h2><h3 id="将JavaScript代码封装到标签中"><a href="#将JavaScript代码封装到标签中" class="headerlink" title="将JavaScript代码封装到标签中"></a>将JavaScript代码封装到标签中</h3><p>script标签可以放在html的任何地方，<strong>建议将script标签放到<code>&lt;/body&gt;</code>之后</strong>。<br>如果JS需要获取input的值，因为html是从上到下解析，如果将script标签放到head里，直接取input里面的值，由于未解析到，导致无法获取。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">--</span> 填写<span class="attr">JS</span>代码 <span class="attr">--</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="将JavaScript代码封装到JS文件中，并通过-lt-script-gt-的src属性进行导入"><a href="#将JavaScript代码封装到JS文件中，并通过-lt-script-gt-的src属性进行导入" class="headerlink" title="将JavaScript代码封装到JS文件中，并通过&lt;script&gt;的src属性进行导入"></a>将JavaScript代码封装到JS文件中，并通过<code>&lt;script&gt;</code>的src属性进行导入</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js文件路径"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：如果<code>&lt;script&gt;</code>标签中使用<code>src</code>属性，那么该标签中封装的javascript代码将不会被执行。</p>
<h2 id="JavaScript语法"><a href="#JavaScript语法" class="headerlink" title="JavaScript语法"></a>JavaScript语法</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>JS中定义变量，使用到关键字<code>var</code>(variable)  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var x = 3;//JS是弱类型语言</span><br><span class="line">alert(&quot;x=&quot;+x);//这是一个函数，将具体的参数通过对话框进行显示。</span><br><span class="line">```  </span><br><span class="line">注：`&quot;&quot;`和`&apos;&apos;`所包括的内容，都是指字符串。</span><br><span class="line"></span><br><span class="line">### 运算符  </span><br><span class="line"></span><br><span class="line">- 算数运算符</span><br></pre></td></tr></table></figure>
<p>var a = 3710;<br>alert(“a=”+a/1000*1000);//a=3710<br>var a1 = 2.3, b1 = 4.7;<br>alert(“a1+b1=”+(a1+b1));//算数结果是7<br>alert(“12”+1);//结果生成字符串121<br>alert(“12”-1);//12会被转成数字，再进行算术运算。结果为11<br>alert(true+1);//结果是2，JS中false就是0或者null；非0非null就是true，默认用1来表示。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- `==`和`===`的区别</span><br><span class="line">做判断时，`==`比较的是值，`===`比较的是值和类型</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- 逻辑运算符(! &amp;&amp; ||)  </span><br><span class="line">用来连接2个boolean型的表达式</span><br></pre></td></tr></table></figure></p>
<p>var t = 4;<br>alert(t&gt;3 &amp; t&lt;7);//结果是1<br>alert(t&gt;3 &amp;&amp; t&lt;7);//结果是true<br>alert(!t);//结果是false<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 语法的一些细节  </span><br><span class="line"></span><br><span class="line">- undefined(未定义)  </span><br><span class="line">其实是一个常量</span><br></pre></td></tr></table></figure></p>
<p>var x;<br>alert(x==undefined);//true<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 通过`typeof()`，可以获得具体值的类型</span><br></pre></td></tr></table></figure></p>
<p>alert(typeof(“abc”));//string<br>alert(typeof(2.5));//number<br>alert(typeof(true));//boolean<br>alert(typeof(78));//number<br>alert(typeof’9’));//string<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 关于引入  </span><br><span class="line">直接向页面输出语句(可以把内容显示在页面上)  </span><br><span class="line">`document.write(&quot;输出内容&quot;);`，document是javascript的内置对象，代表浏览器的文档部分，**可以向页面输出变量、固定值和HTML代码**。</span><br><span class="line"></span><br><span class="line">### JS的数组  </span><br><span class="line">- 三种定义方式  </span><br><span class="line">  1. `var arr=[1,2,3]; var arr=[1,&quot;4&quot;, true];`  //即**数组可以存放不同数据类型**</span><br><span class="line">  2. 使用内置对象 array对象  </span><br><span class="line">    `var arr1=new array(5);`//定义一个数组，数组的长度是5  </span><br><span class="line">    arr1[0]=&quot;1&quot;;  </span><br><span class="line">  3. 使用内置对象 array对象  </span><br><span class="line">    `var arr2=new array(3,4,5);`//定义一个数组，里面的元素是3、4、5  </span><br><span class="line">- 属性  </span><br><span class="line">  - length（获取数组的长度）</span><br><span class="line">    **数组长度可变**</span><br><span class="line"></span><br><span class="line">### JS的函数  </span><br><span class="line">**函数的参数列表里，不需要写var，直接写参数名称**</span><br><span class="line">- 三种定义方式  </span><br><span class="line">  </span><br><span class="line">1. 使用到关键字 function </span><br><span class="line">```  </span><br><span class="line">　　　function 方法名(参数列表) &#123;</span><br><span class="line">　　　　方法体;</span><br><span class="line">　　　　返回值可有可无(根据实际需要);</span><br><span class="line">　　　&#125;</span><br><span class="line">```  </span><br><span class="line">2. 匿名函数</span><br></pre></td></tr></table></figure></p>
<p>function(参数列表){<br>　方法体和返回值;<br>}<br>var add3 = function(m,n) {<br>　alert(m+n);<br>}<br>//调用方法<br>add(5,6);<br><code>`</code>  </p>
<ol start="3">
<li>（用得少，作了解）<br> 动态函数，用到JS里的一个内置对象 Function<br><code>var add = new Function(&quot;参数列表&quot;,&quot;方法体和返回值&quot;);</code></li>
</ol>
<h3 id="JS的全局变量和局部变量"><a href="#JS的全局变量和局部变量" class="headerlink" title="JS的全局变量和局部变量"></a>JS的全局变量和局部变量</h3>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://motainzhang.com/2016/06/11/AJAX/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MotainZhang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MotainZhang">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/06/11/AJAX/" itemprop="url">AJAX</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-06-11T23:15:28+00:00">
                2016-06-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/" itemprop="url" rel="index">
                    <span itemprop="name">前端</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/前端/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/06/11/AJAX/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2016/06/11/AJAX/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="AJAX是什么"><a href="#AJAX是什么" class="headerlink" title="AJAX是什么"></a>AJAX是什么</h2><p>AJAX(Asynchronous Javascript And Xml)：异步（页面局部刷新）的js和xml。<br>是<strong>无需刷新当前页面，即能让客户端与服务端进行通信</strong>的技术。</p>
<h2 id="使用AJAX"><a href="#使用AJAX" class="headerlink" title="使用AJAX"></a>使用AJAX</h2><h3 id="XMLHttpRequest（XHR）"><a href="#XMLHttpRequest（XHR）" class="headerlink" title="XMLHttpRequest（XHR）"></a>XMLHttpRequest（XHR）</h3><p><code>XMLHttpRequest</code>对象是对<code>JavaScript</code>的扩展，它可以在用户没有感觉的情况下，悄悄的和服务器进行数据交互，<strong>是创建AJAX的最佳选择</strong>，通常把<code>AJAX</code>当做<code>XMLHttpRequest</code>对象的代名词。</p>
<h4 id="XMLHttpRequest的方法"><a href="#XMLHttpRequest的方法" class="headerlink" title="XMLHttpRequest的方法"></a>XMLHttpRequest的方法</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>open(&quot;method&quot;, &quot;url&quot;)</code></td>
<td>建立对服务器的访问，method是GET、POST…, url可以是绝对/相对路径</td>
</tr>
<tr>
<td><code>send(&quot;content&quot;)</code></td>
<td>向服务器发送请求</td>
</tr>
<tr>
<td><code>onreadystatechange</code></td>
<td>状态的改变将会触发该<strong>事件处理器</strong>，通常是调用一个JavaScript函数</td>
</tr>
<tr>
<td><code>readyState</code></td>
<td>表示XMLHttpRequest的状态，可取0~4的5个整数。0：未初始化；1：正在加载；2：已经加载；3：交互中；4：完成</td>
</tr>
<tr>
<td><code>responseText</code></td>
<td>获取服务端传回的文本</td>
</tr>
<tr>
<td><code>responseXML</code></td>
<td>服务器的响应，表示为XML，可以解析为DOM对象</td>
</tr>
<tr>
<td><code>status</code></td>
<td>服务器的HTTP状态码：200（成功），404（未找到页面），403（禁止访问），500（服务器出错），304（没有被修改）</td>
</tr>
<tr>
<td><code>setRequestHeader(&quot;header&quot;, &quot;value&quot;)</code></td>
<td>把指定首部设置为所提供的value，必须先调用open()才能设置。如果是POST请求，需要将”Content-type”的首部设置为”application/x-www-form-urlencoded”(告知服务器正在发送数据，并且数据已经符合URL编码)</td>
</tr>
</tbody>
</table>
<h4 id="创建XMLHttpRequest对象"><a href="#创建XMLHttpRequest对象" class="headerlink" title="创建XMLHttpRequest对象"></a>创建XMLHttpRequest对象</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">var xhr =<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="实现AJAX示例"><a href="#实现AJAX示例" class="headerlink" title="实现AJAX示例"></a>实现AJAX示例</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href="xxx"&gt;一个平平无奇的超链接&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    window.onload = function()&#123;</span><br><span class="line">        <span class="comment">//1.获取a节点，并为其添加onclick响应函数</span></span><br><span class="line">        document.getElementsByTagName(<span class="string">"a"</span>)[<span class="number">0</span>].onclick = function()&#123;</span><br><span class="line">            <span class="comment">//3.创建一个XMLHttpRequest对象</span></span><br><span class="line">            var xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.准备发送请求的数据（url）</span></span><br><span class="line">            var url = <span class="keyword">this</span>.href;<span class="comment">//可用通过在url最后添加 "?time=" + new Date();起到禁用缓存的效果</span></span><br><span class="line">            var method = <span class="string">"GET"</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//5.调用XMLHttpRequest对象的open方法</span></span><br><span class="line">            xhr.open(method, url);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//6.调用XMLHttpRequest对象的send方法</span></span><br><span class="line">            xhr.send(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//7.为XMLHTTPRequest对象添加onreadystatechange响应函数</span></span><br><span class="line">            xhr.onreadystatechange = function()&#123;</span><br><span class="line">                <span class="comment">//8.判断响应是否完成：XHR对象的readyState属性值是否为4</span></span><br><span class="line">                <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">                    <span class="comment">//9.判断响应是否可用：XHR对象的status值是否为200</span></span><br><span class="line">                    <span class="keyword">if</span>(xhr.status == <span class="number">200</span> || xhr.status == <span class="number">304</span>)&#123;</span><br><span class="line">                        <span class="comment">//10. 打印响应结果：responseText</span></span><br><span class="line">                        alert(xhr.responseText);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//2.(如果是超链接)取消a节点的默认行为</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>；</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="展示HTML格式的内容"><a href="#展示HTML格式的内容" class="headerlink" title="展示HTML格式的内容"></a>展示HTML格式的内容</h2><p><code>document.getElementById(&quot;某个标签的id&quot;).innerHTML = xhr.responseText;</code><br>设置标签的内容为服务端传递回来的HTML格式文本，按HTML格式显示。</p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>可读性好</li>
<li>HTML代码块与innerHTML属性搭配，效率高</li>
<li>服务端返回的HTML代码无需JavaScript解析</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>不适用于通过AJAX更新页面的多个部分</li>
</ul>
<h2 id="展示XML格式的内容"><a href="#展示XML格式的内容" class="headerlink" title="展示XML格式的内容"></a>展示XML格式的内容</h2><p>例： </p>
<ul>
<li><p>xml格式的实例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hunter<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">website</span>&gt;</span>https://hunter1023.github.io/<span class="tag">&lt;/<span class="name">website</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">email</span>&gt;</span>hspecial@163.com<span class="tag">&lt;/<span class="name">email</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>页面的展示</p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href="xxx"&gt;一个平平无奇的超链接&lt;/a&gt;</span><br><span class="line">    &lt;div id="details(指定标签的id用于存放结果)"&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.结果为XML格式，所以需要使用 responseXML 来获取</span></span><br><span class="line">    var result = xhr.responseXML;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2.结果不能直接使用，需要先创建对应的节点，再把节点加入到 #指定标签的id 中</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    目标格式</span></span><br><span class="line"><span class="comment">    &lt;h2&gt;&lt;a href="mailto:hspecial@163.com"&gt;hunter&lt;/a&gt;&lt;/h2&gt;</span></span><br><span class="line"><span class="comment">    &lt;a href="https://hunter1023.github.io/"&gt;https://hunter1023.github.io/&lt;/a&gt;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    var name = result.getElementsByTagName(<span class="string">"name"</span>)[<span class="number">0</span>].firstChild.nodeValue;</span><br><span class="line">    var website = result.getElementsByTagName(<span class="string">"website"</span>)[<span class="number">0</span>].firstChild.nodeValue;</span><br><span class="line">    var email = result.getElementsByTagName(<span class="string">"email"</span>)[<span class="number">0</span>].firstChild.nodeValue;</span><br><span class="line">    </span><br><span class="line">    var aNode = document.createElement(<span class="string">"a"</span>);</span><br><span class="line">    aNode.appendChild(document.createTextNode(name));</span><br><span class="line">    aNode.href = <span class="string">"mailto:"</span> + email;</span><br><span class="line">    </span><br><span class="line">    var h2Node = document.createElement(<span class="string">"h2"</span>);</span><br><span class="line">    h2Node.appendChild(aNode);</span><br><span class="line">    </span><br><span class="line">    var aNode2 = document.createElement(<span class="string">"a"</span>);</span><br><span class="line">    aNode2.appendChild(document.createTextNode(website));</span><br><span class="line">    aNode2.href = website;</span><br><span class="line">    </span><br><span class="line">    var detailsNode = document.getElementById(<span class="string">"details"</span>);</span><br><span class="line">    detailsNode.innnerHTML = <span class="keyword">null</span>;</span><br><span class="line">    detailsNode.appendChild(h2Node);</span><br><span class="line">    detailsNode.appendChild(aNode2);</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><ul>
<li>XML是通用的数据格式</li>
<li>可以为数据自定义合适的标签</li>
<li>利用DOM可以完全掌控文档</li>
</ul>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>如果文档来自服务器，必须保证文档含有正确的首部信息。如果文档类型不正确，responseXML的值为空。</li>
<li>当接收到内容较多的XML文件，DOM解析可能会很复杂</li>
</ul>
<h2 id="展示JSON格式的内容"><a href="#展示JSON格式的内容" class="headerlink" title="展示JSON格式的内容"></a>展示JSON格式的内容</h2><p><a href="/2018/06/12/JSON">JSON的介绍</a><br>JSON作为文本字符串，被存储在<code>responseText</code>属性中。</p>
<h3 id="eval-函数"><a href="#eval-函数" class="headerlink" title="eval()函数"></a><code>eval()</code>函数</h3><p>可以通过JavaScript的<code>eval()</code>函数来读取其中的JSON数据。该函数可以<strong>把一个字符串作为参数，将其作为JavaScript代码来执行</strong>。<br>如果想<strong>把JSON字符串转为JSON对象，需要先用<code>( )</code>将JSON字符串包含，再作为参数传给<code>eval()</code></strong><br>例：<code>var jsonObj = eval(&quot;(&quot; + jsonStr + &quot;)&quot;);</code></p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><ul>
<li>JSON文件内容</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">"person"</span>:&#123;</span><br><span class="line">        <span class="string">"name"</span>:<span class="string">"Hunter"</span>,</span><br><span class="line">        <span class="string">"website"</span>:<span class="string">"https://hunter1023.github.io/"</span>,</span><br><span class="line">        <span class="string">"email"</span>:<span class="string">"hspecial@163.com"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>页面的展示</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href=&quot;xxx&quot;&gt;一个平平无奇的超链接&lt;/a&gt;</span><br><span class="line">    &lt;div id=&quot;指定标签的id用于存放结果&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    //1.结果为JSON格式，所以需要使用 responseText 来获取</span><br><span class="line">    var result = xhr.responseText;</span><br><span class="line">    var object = eval(&quot;(&quot; + result + &quot;)&quot;);</span><br><span class="line">    </span><br><span class="line">    //2.结果不能直接使用，需要先创建对应的节点，再把节点加入到 #指定标签的id 中</span><br><span class="line">    /*</span><br><span class="line">    目标格式</span><br><span class="line">    &lt;h2&gt;&lt;a href=&quot;mailto:hspecial@163.com&quot;&gt;hunter&lt;/a&gt;&lt;/h2&gt;</span><br><span class="line">    &lt;a href=&quot;https://hunter1023.github.io/&quot;&gt;https://hunter1023.github.io/&lt;/a&gt;</span><br><span class="line">    */</span><br><span class="line">    var name = object.person.name;</span><br><span class="line">    var website = object.person.website;</span><br><span class="line">    var email = object.person.email;</span><br><span class="line">    </span><br><span class="line">    var aNode = document.createElement(&quot;a&quot;);</span><br><span class="line">    aNode.appendChild(document.createTextNode(name));</span><br><span class="line">    aNode.href = &quot;mailto:&quot; + email;</span><br><span class="line">    </span><br><span class="line">    var h2Node = document.createElement(&quot;h2&quot;);</span><br><span class="line">    h2Node.appendChild(aNode);</span><br><span class="line">    </span><br><span class="line">    var aNode2 = document.createElement(&quot;a&quot;);</span><br><span class="line">    aNode2.appendChild(document.createTextNode(website));</span><br><span class="line">    aNode2.href = website;</span><br><span class="line">    </span><br><span class="line">    var detailsNode = document.getElementById(&quot;details&quot;);</span><br><span class="line">    detailsNode.innnerHTML = null;</span><br><span class="line">    detailsNode.appendChild(h2Node);</span><br><span class="line">    detailsNode.appendChild(aNode2);</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h3 id="优点-2"><a href="#优点-2" class="headerlink" title="优点"></a>优点</h3><ul>
<li>不需要从服务端发送含有特定内容类型的首部信息</li>
</ul>
<h3 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>语法过于严谨</li>
<li>代码不便阅读</li>
<li><code>eval</code>函数存在风险</li>
</ul>
<h2 id="选择何种格式（html、xml、json）返回数据"><a href="#选择何种格式（html、xml、json）返回数据" class="headerlink" title="选择何种格式（html、xml、json）返回数据"></a>选择何种格式（html、xml、json）返回数据</h2><ul>
<li>应用程序<strong>不需要与其他应用程序共享数据</strong>，选择HTML格式返回数据</li>
<li><strong>数据需要重用</strong>，选择JSON（性能和文件大小方面有优势）</li>
<li><strong>远程应用程序未知时</strong>，选择XML(适用范围广)</li>
</ul>
<h2 id="使用jQuery实现AJAX"><a href="#使用jQuery实现AJAX" class="headerlink" title="使用jQuery实现AJAX"></a><a href="/2018/06/12/使用jQuery实现Ajax">使用jQuery实现AJAX</a></h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars1.githubusercontent.com/u/27069108?s=460&v=4" alt="MotainZhang">
            
              <p class="site-author-name" itemprop="name">MotainZhang</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">52</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">62</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/MotainZhang" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="sw20026@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://plus.google.com/jszhang" target="_blank" title="Google">
                      
                        <i class="fa fa-fw fa-google"></i>Google</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.v2ex.com/" title="V2EX" target="_blank">V2EX</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://e.xitu.io/" title="JueJin" target="_blank">JueJin</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.alloyteam.com/nav/" title="Web前端导航" target="_blank">Web前端导航</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.chuangzaoshi.com/code" title="Web创造狮导航" target="_blank">Web创造狮导航</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MotainZhang</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'VITR9FskbbXnDcpwBdyTT15i-gzGzoHsz',
        appKey: 'acgrONeHircp8V2jHpsppXdm',
        placeholder: '说点什么吧',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":true},"react":{"opacityDefault":1,"opacityOnHover":0.2},"log":false});</script></body>
</html>
